# ============================================================================
# ENVIRONMENT VARIABLES CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control!
#
# Quick Start:
#   1. Copy: cp env.example .env
#   2. Fill in required variables below
#   3. Generate secrets: openssl rand -hex 32
# ============================================================================

# ============================================================================
# 1. CORE CONFIGURATION (REQUIRED)
# ============================================================================

# Server Port
# Default: 5000
PORT=5000

# Environment Mode
# Options: development | production
# REQUIRED: Set to 'production' for production deployments
NODE_ENV=development

# ============================================================================
# 2. DATABASE CONFIGURATION (REQUIRED)
# ============================================================================

# PostgreSQL Connection String
# REQUIRED: Full connection string for PostgreSQL database
# Format: postgresql://user:password@host:port/database?options
# Examples:
#   - Neon: postgresql://user:pass@ep-xxx.region.aws.neon.tech/dbname?sslmode=require
#   - Railway: postgresql://user:pass@containers-us-west-xxx.railway.app:5432/railway
#   - Supabase: postgresql://user:pass@db.xxx.supabase.co:5432/postgres
#   - Local: postgresql://postgres:password@localhost:5432/growfastwithus
DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# Alternative: Individual PostgreSQL Settings (if not using DATABASE_URL)
# Only use these if you're not using the DATABASE_URL format above
# PGHOST=localhost
# PGPORT=5432
# PGUSER=postgres
# PGPASSWORD=your_password
# PGDATABASE=growfastwithus

# ============================================================================
# 3. SECURITY & AUTHENTICATION (REQUIRED IN PRODUCTION)
# ============================================================================

# Session Secret
# REQUIRED IN PRODUCTION: Must be at least 32 characters
# Generate with: openssl rand -hex 32
# WARNING: Using weak secrets in production will cause the application to exit
SESSION_SECRET=your_32_character_session_secret_here_generate_with_openssl_rand_hex_32

# JWT Secret
# REQUIRED IN PRODUCTION: Must be at least 32 characters
# Generate with: openssl rand -hex 32
# WARNING: Using weak secrets in production will cause the application to exit
JWT_SECRET=your_secure_jwt_secret_at_least_32_characters_long_generate_with_openssl

# Cookie Security Settings (Production)
# Set these for production deployments with HTTPS
COOKIE_SECURE=false                    # Set to 'true' in production (requires HTTPS)
COOKIE_SAME_SITE=lax                   # Options: 'strict' | 'lax' | 'none' (use 'strict' in production)
COOKIE_DOMAIN=                         # Optional: Set if using subdomains (e.g., .yourdomain.com)

# Frontend URL
# REQUIRED IN PRODUCTION: Used for password reset links and CORS
# Must use HTTPS in production (e.g., https://yourdomain.com)
# Development: http://localhost:5173 or http://localhost:5000
FRONTEND_URL=http://localhost:5000

# ============================================================================
# 4. EMAIL CONFIGURATION (SMTP) - RECOMMENDED
# ============================================================================
# Required for: Password reset emails, admin notifications, contact form emails
# If not set, email features will be disabled

# SMTP Server Configuration
# Option A: Brevo (Recommended - Free tier available)
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_SECURE=false                      # Set to 'true' for port 465
SMTP_USER=your_brevo_login_email@example.com
SMTP_PASS=your_brevo_smtp_key_here

# Option B: Gmail (Alternative)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_gmail@gmail.com
# SMTP_PASS=your_gmail_app_password_here
# Note: Gmail requires App Password (not regular password)
# Generate at: https://myaccount.google.com/apppasswords

# Option C: Other SMTP Providers
# SMTP_HOST=smtp.your-provider.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_email@example.com
# SMTP_PASS=your_smtp_password

# ============================================================================
# 5. FRONTEND INTEGRATIONS (VITE_* variables)
# ============================================================================
# These are exposed to the browser, so only include non-sensitive keys

# Brevo API Key for Contact Form
# Get your API key from: https://app.brevo.com/settings/keys/api
# This is used by the contact form to add contacts to Brevo
# Optional: Contact form will still work without this, but won't sync to Brevo
VITE_BREVO_API_KEY=your_brevo_api_key_here

# WordPress Blog Integration
# WordPress REST API URL for blog posts
# Format: https://your-wordpress-site.com/wp-json/wp/v2
# Optional: Leave empty if not using WordPress blog
VITE_WORDPRESS_API_URL=https://your-wordpress-site.com/wp-json/wp/v2

# ============================================================================
# 6. AUTHENTICATION PROVIDERS (OPTIONAL)
# ============================================================================

# Clerk Authentication
# Optional: For third-party authentication
# Get keys from: https://dashboard.clerk.com
CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=

# ============================================================================
# 7. CORS & SECURITY (OPTIONAL)
# ============================================================================

# Allowed Origins for CORS
# Comma-separated list of allowed origins
# Example: https://yourdomain.com,https://www.yourdomain.com
# If empty, defaults are used
ALLOWED_ORIGINS=

# ============================================================================
# 8. DEBUGGING & DEVELOPMENT (OPTIONAL)
# ============================================================================

# Debug Mode
# Set to 'true' to enable detailed debug logging
# WARNING: Don't enable in production
DEBUG=false

# ============================================================================
# QUICK REFERENCE: WHAT'S REQUIRED?
# ============================================================================
#
# FOR DEVELOPMENT:
#   ✅ DATABASE_URL
#   ✅ NODE_ENV=development
#   ⚠️  SESSION_SECRET (optional but recommended)
#   ⚠️  JWT_SECRET (optional but recommended)
#
# FOR PRODUCTION:
#   ✅ DATABASE_URL
#   ✅ NODE_ENV=production
#   ✅ SESSION_SECRET (min 32 chars, strong)
#   ✅ JWT_SECRET (min 32 chars, strong)
#   ✅ FRONTEND_URL (must use HTTPS)
#   ⚠️  SMTP_* (recommended for email features)
#   ⚠️  COOKIE_SECURE=true (with HTTPS)
#   ⚠️  COOKIE_SAME_SITE=strict
#
# RECOMMENDED FOR ALL:
#   ⚠️  SMTP_* (for email functionality)
#   ⚠️  VITE_BREVO_API_KEY (for contact form integration)
#   ⚠️  VITE_WORDPRESS_API_URL (if using WordPress blog)
#
# ============================================================================
# SECURITY NOTES
# ============================================================================
#
# 1. NEVER commit .env files to version control
# 2. Generate strong secrets: openssl rand -hex 32
# 3. Use different secrets for development and production
# 4. In production, ensure all secrets are at least 32 characters
# 5. Use HTTPS in production and set COOKIE_SECURE=true
# 6. VITE_* variables are exposed to the browser - don't put secrets there
# 7. Regularly rotate secrets in production
#
# ============================================================================
